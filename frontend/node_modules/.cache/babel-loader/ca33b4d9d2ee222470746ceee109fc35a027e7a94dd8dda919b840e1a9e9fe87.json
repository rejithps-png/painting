{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/Documents/painting-auction/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Link,useNavigate,useLocation}from'react-router-dom';import{toast}from'react-hot-toast';import{authAPI}from'../services/api';import{useAuth}from'../context/AuthContext';import{UserPlus,Palette}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserRegisterPage=()=>{const[formData,setFormData]=useState({firstName:'',lastName:'',mobile:''});const[loading,setLoading]=useState(false);const{loginUser}=useAuth();const navigate=useNavigate();const location=useLocation();const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{// Use mobile number as password\nconst response=await authAPI.register({firstName:formData.firstName,lastName:formData.lastName,mobile:formData.mobile,password:formData.mobile// Mobile number is the password\n});const{user,token}=response.data.data;loginUser(user,token);// Show success message with password info\ntoast.success('Account created successfully!',{duration:3000});toast.success('Your mobile number is your password',{duration:5000,icon:'üîë'});const redirectPath=new URLSearchParams(location.search).get('redirect')||'/';navigate(redirectPath);}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Registration failed');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center px-4 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(Palette,{className:\"h-16 w-16 text-blue-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"Create Account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Join the auction and start bidding\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",value:formData.firstName,onChange:handleChange,placeholder:\"John\",required:true,className:\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",value:formData.lastName,onChange:handleChange,placeholder:\"Doe\",required:true,className:\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Mobile Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"mobile\",value:formData.mobile,onChange:handleChange,placeholder:\"10-digit mobile number\",pattern:\"[6-9][0-9]{9}\",maxLength:\"10\",required:true,className:\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-600 mt-1 flex items-center\",children:\"\\uD83D\\uDD11 Your mobile number will be your password\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:loading,className:\"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition flex items-center justify-center space-x-2 disabled:bg-gray-400\",children:[/*#__PURE__*/_jsx(UserPlus,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:loading?'Creating Account...':'Sign Up'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-blue-600 hover:text-blue-700 font-semibold\",children:\"Login\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-sm text-gray-500 hover:text-gray-700\",children:\"\\u2190 Back to Home\"})})]})});};export default UserRegisterPage;","map":{"version":3,"names":["React","useState","Link","useNavigate","useLocation","toast","authAPI","useAuth","UserPlus","Palette","jsx","_jsx","jsxs","_jsxs","UserRegisterPage","formData","setFormData","firstName","lastName","mobile","loading","setLoading","loginUser","navigate","location","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","response","register","password","user","token","data","success","duration","icon","redirectPath","URLSearchParams","search","get","error","_error$response","_error$response$data","message","className","children","onSubmit","type","onChange","placeholder","required","pattern","maxLength","disabled","to"],"sources":["/home/ubuntu/Documents/painting-auction/frontend/src/pages/UserRegisterPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { authAPI } from '../services/api';\nimport { useAuth } from '../context/AuthContext';\nimport { UserPlus, Palette } from 'lucide-react';\n\nconst UserRegisterPage = () => {\n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    mobile: ''\n  });\n  const [loading, setLoading] = useState(false);\n  \n  const { loginUser } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    setLoading(true);\n\n    try {\n      // Use mobile number as password\n      const response = await authAPI.register({\n        firstName: formData.firstName,\n        lastName: formData.lastName,\n        mobile: formData.mobile,\n        password: formData.mobile // Mobile number is the password\n      });\n\n      const { user, token } = response.data.data;\n      loginUser(user, token);\n      \n      // Show success message with password info\n      toast.success('Account created successfully!', { duration: 3000 });\n      toast.success('Your mobile number is your password', { \n        duration: 5000,\n        icon: 'üîë'\n      });\n      \n      const redirectPath = new URLSearchParams(location.search).get('redirect') || '/';\n      navigate(redirectPath);\n    } catch (error) {\n      toast.error(error.response?.data?.message || 'Registration failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center px-4 py-8\">\n      <div className=\"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8\">\n        <div className=\"text-center mb-8\">\n          <Palette className=\"h-16 w-16 text-blue-600 mx-auto mb-4\" />\n          <h2 className=\"text-3xl font-bold text-gray-900\">Create Account</h2>\n          <p className=\"text-gray-600 mt-2\">Join the auction and start bidding</p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                First Name\n              </label>\n              <input\n                type=\"text\"\n                name=\"firstName\"\n                value={formData.firstName}\n                onChange={handleChange}\n                placeholder=\"John\"\n                required\n                className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Last Name\n              </label>\n              <input\n                type=\"text\"\n                name=\"lastName\"\n                value={formData.lastName}\n                onChange={handleChange}\n                placeholder=\"Doe\"\n                required\n                className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Mobile Number\n            </label>\n            <input\n              type=\"tel\"\n              name=\"mobile\"\n              value={formData.mobile}\n              onChange={handleChange}\n              placeholder=\"10-digit mobile number\"\n              pattern=\"[6-9][0-9]{9}\"\n              maxLength=\"10\"\n              required\n              className=\"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n            <p className=\"text-xs text-blue-600 mt-1 flex items-center\">\n              üîë Your mobile number will be your password\n            </p>\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition flex items-center justify-center space-x-2 disabled:bg-gray-400\"\n          >\n            <UserPlus className=\"h-5 w-5\" />\n            <span>{loading ? 'Creating Account...' : 'Sign Up'}</span>\n          </button>\n        </form>\n\n        <div className=\"mt-6 text-center\">\n          <p className=\"text-gray-600\">\n            Already have an account?{' '}\n            <Link to=\"/login\" className=\"text-blue-600 hover:text-blue-700 font-semibold\">\n              Login\n            </Link>\n          </p>\n        </div>\n\n        <div className=\"mt-4 text-center\">\n          <Link to=\"/\" className=\"text-sm text-gray-500 hover:text-gray-700\">\n            ‚Üê Back to Home\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserRegisterPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}